

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Particle image velocimetry (PIV) &#8212; ESE Jupyter Material</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/mystnb.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".cell"
        const thebe_selector_input = ".cell_input div.highlight"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="UAV Mapping" href="UAV_Mapping/intro.html" />
    <link rel="prev" title="Google Earth Engine getting started" href="Google_Earth_Engine_Getting_Started_.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">ESE Jupyter Material</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
  <li class="">
    <a href="../intro.html">Landing page</a>
  </li>
  <li class="">
    <a href="../a_modules/intro.html">Modules</a>
  </li>
  <li class="">
    <a href="../b_coding/intro.html">Coding</a>
  </li>
  <li class="">
    <a href="../c_mathematics/intro.html">Mathematics</a>
  </li>
  <li class="">
    <a href="../d_geosciences/intro.html">Geosciences</a>
  </li>
  <li class="active">
    <a href="intro.html">Further resources</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="Camera_Calibration.html">Camera calibration</a>
    </li>
    <li class="">
      <a href="Cartography_Cartopy.html">Cartopy (maps)</a>
    </li>
    <li class="">
      <a href="Dakota.html">Dakota</a>
    </li>
    <li class="">
      <a href="Google_Earth_Engine_Foundations.html">Google Earth Engine foundations</a>
    </li>
    <li class="">
      <a href="Google_Earth_Engine_Getting_Started_.html">Google Earth Engine getting started</a>
    </li>
    <li class="active">
      <a href="">Particle image velocimetry (PIV)</a>
    </li>
    <li class="">
      <a href="UAV_Mapping/intro.html">UAV Mapping</a>
    </li>
    <li class="">
      <a href="pytorch_image_filtering_ml/intro.html">Machine Learning</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../genindex.html">Index</a>
  </li>
</ul>
</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/e_extra/Particle_Image_Velocimetry.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        
        <a class="issues-button"
            href="https://github.com/primer-computational-mathematics/book/issues/new?title=Issue%20on%20page%20%2Fe_extra/Particle_Image_Velocimetry.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/primer-computational-mathematics/book/master?urlpath=tree/notebooks/e_extra/Particle_Image_Velocimetry.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#" class="nav-link">Particle image velocimetry (PIV)</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#seeding" class="nav-link">Seeding</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#data" class="nav-link">Data</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#algorithm" class="nav-link">Algorithm</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#demonstration" class="nav-link">Demonstration</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#recursive-piv" class="nav-link">Recursive PIV</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#overview" class="nav-link">Overview</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#applications" class="nav-link">Applications</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#references-and-useful-reading" class="nav-link">References and useful reading</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>


    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="particle-image-velocimetry-piv">
<h1>Particle image velocimetry (PIV)<a class="headerlink" href="#particle-image-velocimetry-piv" title="Permalink to this headline">¶</a></h1>
<p>PIV is an imaging technique to measure the instantaneous velocity distribution within a plane, this can be defined by a laser light sheet, water surface, etc. It achieves this by dividing the images into interrogation windows and local displacement vectors are determined for each region by cross correlating windows between frames; Eularian technique (fixed frame of reference and grid).  A fundamental difference from PTV is that it finds the velocity vector for a group of particles instead of individual particles.</p>
<div class="section" id="seeding">
<h2>Seeding<a class="headerlink" href="#seeding" title="Permalink to this headline">¶</a></h2>
<p>PIV is very sensitive to seeding. The ideal properties and distribution will differ between fluids but some general examples are:</p>
<ul class="simple">
<li><p>for air the seeding particles are commonly oil, 1 to 5 micrometers</p></li>
<li><p>for water the particles are commonly polusterine, poluamid or hollow glass spheres in the ranges 5 to 100 micrometers.
As a general rule of thumbs 10 to 25 particles per interrogation area are good.</p></li>
</ul>
<p>The dimensions limitations are set by the fact that the particle should be large enough to scatter significant quantity of light to be detected but small enough that the repsonse time of the particles to the motion of the lfuid is reasonably short. Lastly, for 3D PIV particles of equal density to the fluid become very important.</p>
<p>Note that it is not a requirement to introduce tracers one self, foam, algae and other features can work as tracers as well.</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="../_images/drones-03-00014-g002.png"><img alt="../_images/drones-03-00014-g002.png" src="../_images/drones-03-00014-g002.png" style="width: 500px;" /></a>
</div>
<div class="figure align-default">
<a class="reference internal image-reference" href="../_images/drones-03-00014-g004.png"><img alt="../_images/drones-03-00014-g004.png" src="../_images/drones-03-00014-g004.png" style="width: 500px;" /></a>
</div>
<p>Drone captured image without artificial tracers used to carry out PIV. Calculated flow lines are superimposed and the straight line is a cross-section along which bathymetry will be calculated, the RiVeR software package has similar functions.</p>
</div>
<div class="section" id="data">
<h2>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h2>
<p>For resolution ideally each particles should cover 2 to 3 pixels across in an image. Placing an image in a one bit colour scheme can aid particle identification. Alternative a simple grey filter can help too when placing a threshold for the 2 bit image is difficult.</p>
<p>The framerate at which images are collected become significant too:</p>
<ul class="simple">
<li><p>A shorter timestep between frames can increase the accuracy for cross-correlation, however if too small no displacement is measured.</p></li>
<li><p>The timestep constrains the highest measurable velocity, by particles travelling further than the size of the interrogation area within the timestep taken. The result is lost correlation between the two image frames and hence the loss of velocity information.</p></li>
<li><p>A Longer timestep reduces the accuracy for cross-correlation and can even cause it to return spurious values if the interrogation windows have changed too much in pattern.</p></li>
</ul>
</div>
<div class="section" id="algorithm">
<h2>Algorithm<a class="headerlink" href="#algorithm" title="Permalink to this headline">¶</a></h2>
<p>To link the interrogation windows (X) across frames (I) PIV uses a cross-correlation (sliding dot product) algorithm as shown by the equation below:
\[ C(s) = \int \int_IA I_1(X)\cdot I_2(X-s) dX. \]</p>
<p>This produces a peak at the highest correlation between windows across frames. Accuracy can be improved by sub-pixel interpolation (not included in our script below)</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="../_images/cross-correlation-technique-PIV.png"><img alt="../_images/cross-correlation-technique-PIV.png" src="../_images/cross-correlation-technique-PIV.png" style="width: 500px;" /></a>
</div>
<p>Having calculated the distance, still in pixels but can be mapped into real distances, and having set the timestep between frames, we can calculate the velocity vectors.</p>
<p>There are many more sophisticated methods that may require a significant investment of time</p>
</div>
<div class="section" id="demonstration">
<h2>Demonstration<a class="headerlink" href="#demonstration" title="Permalink to this headline">¶</a></h2>
<p>Required package installation:</p>
<ul class="simple">
<li><p>pip install cython numpy</p></li>
<li><p>pip install openpiv –pre</p></li>
</ul>
<p>or for conda (installs all dependencies too):</p>
<ul class="simple">
<li><p>conda install -c conda-forge openpiv</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># import required libraries</span>
<span class="kn">from</span> <span class="nn">openpiv</span> <span class="kn">import</span> <span class="n">tools</span><span class="p">,</span> <span class="n">process</span><span class="p">,</span> <span class="n">validation</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">scaling</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">imageio</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># read in frames; .tif format common to avoid dataloss</span>
<span class="c1"># very memory intensive file format however</span>
<span class="n">frame_a</span>  <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span> <span class="s1">&#39;Data_PIV/B001_1.tif&#39;</span> <span class="p">)</span>
<span class="n">frame_b</span>  <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span> <span class="s1">&#39;Data_PIV/B001_2.tif&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># visualise frames, can visually check if timestep is big enough to see change</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">frame_a</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">frame_a</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">20</span><span class="p">)),</span><span class="n">frame_b</span><span class="p">],</span><span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">gray</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x29af0276dd8&gt;
</pre></div>
</div>
<img alt="../_images/Particle_Image_Velocimetry_7_1.png" src="../_images/Particle_Image_Velocimetry_7_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># set parameters</span>
<span class="c1"># resolution low enough to avoid noise / lost correlation</span>

<span class="c1"># size of window over which to take pattern</span>
<span class="n">winsize</span> <span class="o">=</span> <span class="mi">32</span> <span class="c1"># pixels</span>

<span class="c1"># window size over which above pattern is searched in frame 2 </span>
<span class="n">searchsize</span> <span class="o">=</span> <span class="mi">64</span>  <span class="c1"># pixels, search in image B</span>
<span class="n">overlap</span> <span class="o">=</span> <span class="mi">12</span> <span class="c1"># pixels</span>

<span class="c1"># time between frames</span>
<span class="n">dt</span> <span class="o">=</span> <span class="mf">0.02</span> <span class="c1"># sec</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># PIV functions, can be found in the GITHUB repository cited</span>
<span class="n">u0</span><span class="p">,</span> <span class="n">v0</span><span class="p">,</span> <span class="n">sig2noise</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">extended_search_area_piv</span><span class="p">(</span> <span class="n">frame_a</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="n">frame_b</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="n">window_size</span><span class="o">=</span><span class="n">winsize</span><span class="p">,</span> <span class="n">overlap</span><span class="o">=</span><span class="n">overlap</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">dt</span><span class="p">,</span> <span class="n">search_area_size</span><span class="o">=</span><span class="n">searchsize</span><span class="p">,</span> <span class="n">sig2noise_method</span><span class="o">=</span><span class="s1">&#39;peak2peak&#39;</span> <span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">get_coordinates</span><span class="p">(</span> <span class="n">image_size</span><span class="o">=</span><span class="n">frame_a</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="n">winsize</span><span class="p">,</span> <span class="n">overlap</span><span class="o">=</span><span class="n">overlap</span> <span class="p">)</span>
<span class="n">u1</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">validation</span><span class="o">.</span><span class="n">sig2noise_val</span><span class="p">(</span> <span class="n">u0</span><span class="p">,</span> <span class="n">v0</span><span class="p">,</span> <span class="n">sig2noise</span><span class="p">,</span> <span class="n">threshold</span> <span class="o">=</span> <span class="mf">1.3</span> <span class="p">)</span>
<span class="n">u2</span><span class="p">,</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">filters</span><span class="o">.</span><span class="n">replace_outliers</span><span class="p">(</span> <span class="n">u1</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;localmean&#39;</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">kernel_size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">u3</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">scaling</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">u2</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">scaling_factor</span> <span class="o">=</span> <span class="mf">96.52</span> <span class="p">)</span>
<span class="c1"># save output and display</span>
<span class="n">tools</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">u3</span><span class="p">,</span> <span class="n">v3</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="s1">&#39;exp1_001.txt&#39;</span> <span class="p">)</span>
<span class="n">tools</span><span class="o">.</span><span class="n">display_vector_field</span><span class="p">(</span><span class="s1">&#39;exp1_001.txt&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Particle_Image_Velocimetry_9_0.png" src="../_images/Particle_Image_Velocimetry_9_0.png" />
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>(&lt;Figure size 432x288 with 1 Axes&gt;,
 &lt;matplotlib.axes._subplots.AxesSubplot at 0x29aef8313c8&gt;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate the magnitude of each vector</span>
<span class="n">mag</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">1</span><span class="p">]])</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">1</span><span class="p">]):</span>
        <span class="n">mag</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">u3</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">v3</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># Show magntude map</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mag</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">))</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Particle_Image_Velocimetry_10_0.png" src="../_images/Particle_Image_Velocimetry_10_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="recursive-piv">
<h1>Recursive PIV<a class="headerlink" href="#recursive-piv" title="Permalink to this headline">¶</a></h1>
<p>To achieva a finer resolution and avoid a lot of spurious values we can take a recursive approach using the results from our previous step as an initial model and refine this with a shrinking interrogation and search window in each step to increase our resolution. See cited paper for further information. Simple example shown below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># additional required libraries</span>
<span class="kn">from</span> <span class="nn">openpiv</span> <span class="kn">import</span> <span class="n">pyprocess</span>
<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">skimage</span> <span class="kn">import</span> <span class="n">img_as_uint</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x4</span><span class="p">,</span><span class="n">y4</span><span class="p">,</span><span class="n">u4</span><span class="p">,</span><span class="n">v4</span><span class="p">,</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">WiDIM</span><span class="p">(</span><span class="n">frame_a</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="n">frame_b</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="n">ones_like</span><span class="p">(</span><span class="n">frame_a</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span>
                <span class="n">min_window_size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">overlap_ratio</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">coarse_factor</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">validation_method</span><span class="o">=</span><span class="s1">&#39;mean_velocity&#39;</span><span class="p">,</span> 
                <span class="n">trust_1st_iter</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">validation_iter</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">nb_iter_max</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sig2noise_method</span><span class="o">=</span><span class="s1">&#39;peak2peak&#39;</span><span class="p">)</span>
<span class="n">tools</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">x4</span><span class="p">,</span> <span class="n">y4</span><span class="p">,</span> <span class="n">u4</span><span class="p">,</span> <span class="n">v4</span><span class="p">,</span> <span class="n">zeros_like</span><span class="p">(</span><span class="n">u4</span><span class="p">),</span> <span class="s1">&#39;Y4-S3_Camera000398_widim1.txt&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>----------------------------------------------------------
|-----&gt;     ||   The Open Source  P article              |
| Open      ||                    I mage                 |
|     PIV   ||                    V elocimetry  Toolbox  |
|     &lt;-----||   www.openpiv.net          version 1.0    |
----------------------------------------------------------
 
(&#39;Algorithm : &#39;, &#39;WiDIM&#39;)
 
Parameters   
-----------------------------------
(&#39;     &#39;, &#39;Size of image&#39;, &#39; | &#39;, [512, 512])
(&#39;     &#39;, &#39;total number of iterations&#39;, &#39; | &#39;, 1)
(&#39;     &#39;, &#39;overlap ratio&#39;, &#39; | &#39;, 0.25)
(&#39;     &#39;, &#39;coarse factor&#39;, &#39; | &#39;, 0)
(&#39;     &#39;, &#39;time step&#39;, &#39; | &#39;, 0.10000000149011612)
(&#39;     &#39;, &#39;validation method&#39;, &#39; | &#39;, &#39;None&#39;)
(&#39;     &#39;, &#39;number of validation iterations&#39;, &#39; | &#39;, 0)
(&#39;     &#39;, &#39;subpixel_method&#39;, &#39; | &#39;, &#39;gaussian&#39;)
(&#39;     &#39;, &#39;Nrow&#39;, &#39; | &#39;, array([21]))
(&#39;     &#39;, &#39;Ncol&#39;, &#39; | &#39;, array([21]))
(&#39;     &#39;, &#39;Window sizes&#39;, &#39; | &#39;, array([32]))
-----------------------------------
|           STARTING              |
-----------------------------------
(&#39;ITERATION # &#39;, 0)
..[DONE]
(&#39; --residual : &#39;, 0.999999992946196)
Starting validation..
..[DONE]
 
//////////////////////////////////////////////////////////////////
end of iterative process.. Re-arranging vector fields..
...[DONE]
-------------------------------------------------------------
(&#39;[DONE] ..after &#39;, -17.75885033607483, &#39;seconds &#39;)
-------------------------------------------------------------
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x5</span><span class="p">,</span><span class="n">y5</span><span class="p">,</span><span class="n">u5</span><span class="p">,</span><span class="n">v5</span><span class="p">,</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">WiDIM</span><span class="p">(</span><span class="n">frame_a</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="n">frame_b</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="n">ones_like</span><span class="p">(</span><span class="n">frame_a</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> 
                <span class="n">min_window_size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">overlap_ratio</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">coarse_factor</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">validation_method</span><span class="o">=</span><span class="s1">&#39;mean_velocity&#39;</span><span class="p">,</span> 
                <span class="n">trust_1st_iter</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">validation_iter</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">nb_iter_max</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sig2noise_method</span><span class="o">=</span><span class="s1">&#39;peak2peak&#39;</span><span class="p">)</span>
<span class="n">tools</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">x5</span><span class="p">,</span> <span class="n">y5</span><span class="p">,</span> <span class="n">u5</span><span class="p">,</span> <span class="n">v5</span><span class="p">,</span> <span class="n">zeros_like</span><span class="p">(</span><span class="n">u5</span><span class="p">),</span> <span class="s1">&#39;Y4-S3_Camera000398_widim2.txt&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>----------------------------------------------------------
|-----&gt;     ||   The Open Source  P article              |
| Open      ||                    I mage                 |
|     PIV   ||                    V elocimetry  Toolbox  |
|     &lt;-----||   www.openpiv.net          version 1.0    |
----------------------------------------------------------
 
(&#39;Algorithm : &#39;, &#39;WiDIM&#39;)
 
Parameters   
-----------------------------------
(&#39;     &#39;, &#39;Size of image&#39;, &#39; | &#39;, [512, 512])
(&#39;     &#39;, &#39;total number of iterations&#39;, &#39; | &#39;, 4)
(&#39;     &#39;, &#39;overlap ratio&#39;, &#39; | &#39;, 0.25)
(&#39;     &#39;, &#39;coarse factor&#39;, &#39; | &#39;, 2)
(&#39;     &#39;, &#39;time step&#39;, &#39; | &#39;, 0.10000000149011612)
(&#39;     &#39;, &#39;validation method&#39;, &#39; | &#39;, &#39;mean_velocity&#39;)
(&#39;     &#39;, &#39;number of validation iterations&#39;, &#39; | &#39;, 2)
(&#39;     &#39;, &#39;subpixel_method&#39;, &#39; | &#39;, &#39;gaussian&#39;)
(&#39;     &#39;, &#39;Nrow&#39;, &#39; | &#39;, array([10, 21, 42, 42]))
(&#39;     &#39;, &#39;Ncol&#39;, &#39; | &#39;, array([10, 21, 42, 42]))
(&#39;     &#39;, &#39;Window sizes&#39;, &#39; | &#39;, array([64, 32, 16, 16]))
-----------------------------------
|           STARTING              |
-----------------------------------
(&#39;ITERATION # &#39;, 0)
..[DONE]
(&#39; --residual : &#39;, 1.0000000125483464)
no validation : trusting 1st iteration
going to next iteration.. 
performing interpolation of the displacement field
 
(&#39;..[DONE] -----&gt; going to iteration &#39;, 1)
 
(&#39;ITERATION # &#39;, 1)
..[DONE]
(&#39; --residual : &#39;, 0.22079007318468086)
Starting validation..
(&#39;Validation, iteration number &#39;, 0)
 
(&#39;Validation, iteration number &#39;, 1)
 
..[DONE]
 
going to next iteration.. 
performing interpolation of the displacement field
 
(&#39;..[DONE] -----&gt; going to iteration &#39;, 2)
 
(&#39;ITERATION # &#39;, 2)
..[DONE]
(&#39; --residual : &#39;, 0.06340255479965498)
Starting validation..
(&#39;Validation, iteration number &#39;, 0)
 
(&#39;Validation, iteration number &#39;, 1)
 
..[DONE]
 
going to next iteration.. 
performing interpolation of the displacement field
 
(&#39;..[DONE] -----&gt; going to iteration &#39;, 3)
 
(&#39;ITERATION # &#39;, 3)
..[DONE]
(&#39; --residual : &#39;, 0.03207423360453134)
Starting validation..
(&#39;Validation, iteration number &#39;, 0)
 
(&#39;Validation, iteration number &#39;, 1)
 
..[DONE]
 
//////////////////////////////////////////////////////////////////
end of iterative process.. Re-arranging vector fields..
...[DONE]
-------------------------------------------------------------
(&#39;[DONE] ..after &#39;, -12.381387710571289, &#39;seconds &#39;)
-------------------------------------------------------------
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tools</span><span class="o">.</span><span class="n">display_vector_field</span><span class="p">(</span><span class="s1">&#39;Y4-S3_Camera000398_widim1.txt&#39;</span><span class="p">,</span> <span class="n">widim</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">900</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.002</span><span class="p">,</span><span class="n">scaling_factor</span><span class="o">=</span><span class="mf">96.52</span><span class="p">)</span>
<span class="n">tools</span><span class="o">.</span><span class="n">display_vector_field</span><span class="p">(</span><span class="s1">&#39;Y4-S3_Camera000398_widim2.txt&#39;</span><span class="p">,</span> <span class="n">widim</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">900</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.002</span><span class="p">,</span><span class="n">scaling_factor</span><span class="o">=</span><span class="mf">96.52</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Particle_Image_Velocimetry_15_0.png" src="../_images/Particle_Image_Velocimetry_15_0.png" />
<img alt="../_images/Particle_Image_Velocimetry_15_1.png" src="../_images/Particle_Image_Velocimetry_15_1.png" />
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>(&lt;Figure size 432x288 with 1 Axes&gt;,
 &lt;matplotlib.axes._subplots.AxesSubplot at 0x29af34b2a90&gt;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
<span class="n">mag</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">([</span><span class="n">shape</span><span class="p">(</span><span class="n">x4</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="n">shape</span><span class="p">(</span><span class="n">x4</span><span class="p">)[</span><span class="mi">1</span><span class="p">]])</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">shape</span><span class="p">(</span><span class="n">x4</span><span class="p">)[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">shape</span><span class="p">(</span><span class="n">x4</span><span class="p">)[</span><span class="mi">1</span><span class="p">]):</span>
        <span class="n">mag</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">u4</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">v4</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mag</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
<span class="n">mag</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">([</span><span class="n">shape</span><span class="p">(</span><span class="n">x5</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="n">shape</span><span class="p">(</span><span class="n">x5</span><span class="p">)[</span><span class="mi">1</span><span class="p">]])</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">shape</span><span class="p">(</span><span class="n">x5</span><span class="p">)[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">shape</span><span class="p">(</span><span class="n">x5</span><span class="p">)[</span><span class="mi">1</span><span class="p">]):</span>
        <span class="n">mag</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">u5</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">v5</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mag</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Particle_Image_Velocimetry_16_0.png" src="../_images/Particle_Image_Velocimetry_16_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Overlap on original image</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">tools</span><span class="o">.</span><span class="n">display_vector_field</span><span class="p">(</span><span class="s1">&#39;exp1_001.txt&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">scaling_factor</span><span class="o">=</span><span class="mf">96.52</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.004</span><span class="p">,</span> <span class="n">on_img</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">image_name</span><span class="o">=</span><span class="s1">&#39;Data_PIV/B001_1.tif&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Particle_Image_Velocimetry_17_0.png" src="../_images/Particle_Image_Velocimetry_17_0.png" />
</div>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Positives:</p>
<ul class="simple">
<li><p>non-intrusive except if tracers are used</p></li>
<li><p>sub-pixel displacement values allow a high degree of accuracy since each vector is a statistical average for many particles within a particular window</p></li>
</ul>
<p>Drawbacks:</p>
<ul class="simple">
<li><p>very sensitive to seeding parameters</p></li>
<li><p>uncertainties near walls. Hence correlation with PTV or only PTV evaluation should be applied below half an interrogation window from the wall</p></li>
<li><p>in 2D can cause problems with the z-axis component</p></li>
<li><p>particles may not always follow the flow appropiately</p></li>
</ul>
</div>
<div class="section" id="applications">
<h2>Applications<a class="headerlink" href="#applications" title="Permalink to this headline">¶</a></h2>
<p>some examples between many:</p>
<ul class="simple">
<li><p>study aerodynamics for plane wings, cars, etc.</p></li>
<li><p>verifying CFD models in small and large scale, even medically to study the behaviour of a coardiopulmanary bypass</p></li>
<li><p>granular PIV: velocity measurement in grnular flows and avalanches</p></li>
<li><p>Large Scale PIV: can be used with sattelite imagery or drone imagery and requires no tracers</p></li>
</ul>
</div>
<div class="section" id="references-and-useful-reading">
<h2>References and useful reading<a class="headerlink" href="#references-and-useful-reading" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Data: http://www.pivchallenge.org</p></li>
<li><p>PIV challenge, pushing the limits: https://link.springer.com/article/10.1007/s00348-005-0951-2</p></li>
<li><p>OpenPIV python documentation: https://buildmedia.readthedocs.org/media/pdf/openpiv/latest/openpiv.pdf</p></li>
<li><p>OpenPIV repository: https://github.com/alexlib/openpiv-python</p></li>
<li><p>OpenPIV website: http://www.openpiv.net</p></li>
<li><p>LSPIV UAV: https://www.mdpi.com/2504-446X/3/1/14#</p></li>
<li><p>Seeding 1 : https://www.thermofisher.com/order/catalog/product/2005ATS</p></li>
<li><p>Seeding 2 : https://www.sciencedirect.com/science/article/pii/S0894177712003135?via%3Dihub</p></li>
<li><p>Super resoltuion PIV by recursive local-correlation: https://www.semanticscholar.org/paper/Super-resolution-PIV-by-recursive-local-correlation-Hart/543dd09f0700b9dcf0bf1e6be53db61396ade9cf</p></li>
<li><p>PIV/PTV near walls:	https://link.springer.com/article/10.1007/s00348-012-1307-3</p></li>
<li><p>RiVeR toolbox: http://10.0.3.248/j.cageo.2017.07.009</p></li>
<li><p>PIVLaB, great to play around with a GUI: https://uk.mathworks.com/matlabcentral/fileexchange/27659-pivlab-particle-image-velocimetry-piv-tool</p></li>
<li><p>Correlation Image: https://www.researchgate.net/figure/Block-matching-cross-correlation-technique-typically-used-in-PIV-The-position-of-the_fig1_321974432</p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "primer-computational-mathematics/book",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./e_extra"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="Google_Earth_Engine_Getting_Started_.html" title="previous page">Google Earth Engine getting started</a>
    <a class='right-next' id="next-link" href="UAV_Mapping/intro.html" title="next page">UAV Mapping</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Imperial College London<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
  </body>
</html>